{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useCurrentUser } from \"../contexts/CurrentUserContext\";\nexport function useRedirect(redirectOnAuth) {\n  _s();\n  const currentUser = useCurrentUser();\n  const navigate = useNavigate(); // useNavigate replaces useHistory\n\n  useEffect(() => {\n    if (redirectOnAuth === \"loggedIn\" && currentUser) {\n      navigate(\"/\"); // use navigate instead of history.push\n    } else if (redirectOnAuth === \"loggedOut\" && !currentUser) {\n      navigate(\"/signin\"); // use navigate instead of history.push\n    }\n  }, [currentUser, redirectOnAuth, navigate]); // update dependency array\n}\n_s(useRedirect, \"9PkapFewl3lw+fqTyyMEcws+TlA=\", false, function () {\n  return [useCurrentUser, useNavigate];\n});","map":{"version":3,"names":["useEffect","useNavigate","useCurrentUser","useRedirect","redirectOnAuth","_s","currentUser","navigate"],"sources":["C:/Users/marko/Desktop/VS CODE/django-rest-api/frontend/src/hooks/useRedirect.js"],"sourcesContent":["import { useEffect } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useCurrentUser } from \"../contexts/CurrentUserContext\";\r\n\r\nexport function useRedirect(redirectOnAuth) {\r\n  const currentUser = useCurrentUser();\r\n  const navigate = useNavigate(); // useNavigate replaces useHistory\r\n\r\n  useEffect(() => {\r\n    if (redirectOnAuth === \"loggedIn\" && currentUser) {\r\n      navigate(\"/\"); // use navigate instead of history.push\r\n    } else if (redirectOnAuth === \"loggedOut\" && !currentUser) {\r\n      navigate(\"/signin\"); // use navigate instead of history.push\r\n    }\r\n  }, [currentUser, redirectOnAuth, navigate]); // update dependency array\r\n}\r\n"],"mappings":";AAAA,SAASA,SAAS,QAAQ,OAAO;AACjC,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,cAAc,QAAQ,gCAAgC;AAE/D,OAAO,SAASC,WAAWA,CAACC,cAAc,EAAE;EAAAC,EAAA;EAC1C,MAAMC,WAAW,GAAGJ,cAAc,CAAC,CAAC;EACpC,MAAMK,QAAQ,GAAGN,WAAW,CAAC,CAAC,CAAC,CAAC;;EAEhCD,SAAS,CAAC,MAAM;IACd,IAAII,cAAc,KAAK,UAAU,IAAIE,WAAW,EAAE;MAChDC,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC;IACjB,CAAC,MAAM,IAAIH,cAAc,KAAK,WAAW,IAAI,CAACE,WAAW,EAAE;MACzDC,QAAQ,CAAC,SAAS,CAAC,CAAC,CAAC;IACvB;EACF,CAAC,EAAE,CAACD,WAAW,EAAEF,cAAc,EAAEG,QAAQ,CAAC,CAAC,CAAC,CAAC;AAC/C;AAACF,EAAA,CAXeF,WAAW;EAAA,QACLD,cAAc,EACjBD,WAAW;AAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}