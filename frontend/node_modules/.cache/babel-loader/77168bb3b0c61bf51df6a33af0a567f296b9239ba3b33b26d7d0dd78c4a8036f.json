{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{Modal,Button,Alert,Row,Col}from\"react-bootstrap\";import axios from\"axios\";import Cookies from\"js-cookie\";import styles from\"../styles/Profile.module.css\";import loadingSpinner from\"../assets/loading.gif\";// Updated to use the smaller loading spinner\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Profile(){const[userProfile,setUserProfile]=useState(null);const[displayName,setDisplayName]=useState(\"\");const[bio,setBio]=useState(\"\");const[profilePicture,setProfilePicture]=useState(\"\");const[tempProfilePicture,setTempProfilePicture]=useState(\"\");// Temporary profile picture for the modal\nconst[isEditing,setIsEditing]=useState(false);const[isLoading,setIsLoading]=useState(true);const[showSuccessMessage,setShowSuccessMessage]=useState(false);const[errors,setErrors]=useState({});useEffect(()=>{const fetchUserProfile=async()=>{try{const userResponse=await axios.get(\"/dj-rest-auth/user/\",{headers:{Authorization:`Token ${localStorage.getItem('token')}`}});const userId=userResponse.data.pk;const response=await axios.get(`https://housegram-fullstack-app-a01c6177ffd8.herokuapp.com/userprofiles/${userId}/`,{headers:{Authorization:`Token ${localStorage.getItem('token')}`}});const data=response.data;setUserProfile(data);setDisplayName(data.display_name||\"No display name yet\");setBio(data.bio||\"No bio has been given yet\");setProfilePicture(data.profile_picture||\"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png\");setTempProfilePicture(data.profile_picture||\"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png\");// Initialize tempProfilePicture with current picture\nsetIsLoading(false);}catch(error){console.error(\"Failed to fetch user profile:\",error);setErrors({non_field_errors:[\"Failed to load profile data.\"]});setIsLoading(false);}};fetchUserProfile();},[]);const handleImageChange=event=>{const file=event.target.files[0];if(file){// Update temporary profile picture\nsetTempProfilePicture(URL.createObjectURL(file));}};const handleSaveProfile=async()=>{const updatedProfile={display_name:displayName===\"No display name yet\"?\"\":displayName,bio:bio===\"No bio has been given yet\"?\"\":bio};setIsLoading(true);try{const formData=new FormData();formData.append(\"display_name\",updatedProfile.display_name);formData.append(\"bio\",updatedProfile.bio);if(tempProfilePicture&&tempProfilePicture.startsWith('blob:')){// Convert data URL to Blob and upload\nconst response=await fetch(tempProfilePicture);const blob=await response.blob();formData.append(\"profile_picture\",blob,\"profile_picture.jpg\");}else if(tempProfilePicture!==profilePicture){// Handle URL-based profile picture logic if necessary\n}const csrfToken=Cookies.get('csrftoken');// Adjust this if your token is stored differently\nconst response=await axios.patch(`https://housegram-fullstack-app-a01c6177ffd8.herokuapp.com/userprofiles/${userProfile.id}/`,formData,{headers:{\"Content-Type\":\"multipart/form-data\",Authorization:`Token ${localStorage.getItem('token')}`,'X-CSRFToken':csrfToken// Include CSRF token\n}});// Update local state after successful upload\nsetProfilePicture(response.data.profile_picture);// Update profile picture with the URL returned by the server\nsetShowSuccessMessage(true);setTimeout(()=>setShowSuccessMessage(false),3000);setIsEditing(false);}catch(error){var _error$response;console.error(\"Error updating profile:\",error);setErrors(((_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.data)||{non_field_errors:[\"Failed to update profile.\"]});}finally{setIsLoading(false);}};const handleCancelEdit=()=>{// Revoke the temporary object URL to avoid memory leaks\nif(tempProfilePicture&&tempProfilePicture.startsWith(\"blob:\")){URL.revokeObjectURL(tempProfilePicture);}setTempProfilePicture(profilePicture);// Reset the temporary profile picture on cancel\nsetIsEditing(false);};if(isLoading){return/*#__PURE__*/_jsx(\"div\",{style:{position:'fixed',top:0,left:0,width:'100%',height:'100%',backgroundColor:'rgba(255, 255, 255, 0.8)',display:'flex',justifyContent:'center',alignItems:'center',zIndex:9999},children:/*#__PURE__*/_jsx(\"img\",{src:loadingSpinner,alt:\"Loading...\",style:{width:'75px',height:'75px'}})});}return/*#__PURE__*/_jsxs(\"div\",{className:styles.profileCard,children:[showSuccessMessage&&/*#__PURE__*/_jsx(Alert,{variant:\"success\",style:{position:'fixed',top:'100px',// Distance from the top of the page\nright:'20px',// Distance from the right side of the page\nzIndex:1000,width:'250px',// Smaller width\ntextAlign:'center',padding:'10px'// Smaller padding\n},children:\"Profile saved successfully!\"}),/*#__PURE__*/_jsx(\"img\",{src:profilePicture,alt:\"Profile\",className:styles.profileImage}),/*#__PURE__*/_jsxs(\"div\",{className:styles.profileDetails,children:[/*#__PURE__*/_jsx(\"h1\",{className:styles.profileName,children:displayName}),/*#__PURE__*/_jsx(\"p\",{className:styles.profileBio,children:bio}),/*#__PURE__*/_jsx(Button,{variant:\"dark\",onClick:()=>setIsEditing(true),children:\"Edit Profile\"})]}),/*#__PURE__*/_jsxs(Modal,{show:isEditing,onHide:handleCancelEdit,size:\"lg\"// Make the modal larger\n,\"aria-labelledby\":\"contained-modal-title-vcenter\",centered:true,children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{children:\"Edit Profile\"})}),/*#__PURE__*/_jsx(Modal.Body,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:4,children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"profilePicture\",children:\"Profile Picture\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",id:\"profilePicture\",accept:\"image/*\",onChange:handleImageChange,className:\"form-control\"}),/*#__PURE__*/_jsx(\"img\",{src:tempProfilePicture,alt:\"Profile Preview\",className:\"mt-3 img-fluid rounded-circle\"// Make the image preview round\n,style:{width:'150px',height:'150px',objectFit:'cover'}})]})}),/*#__PURE__*/_jsxs(Col,{md:8,children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"displayName\",children:\"Display Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"displayName\",className:\"form-control\",value:displayName,onChange:e=>setDisplayName(e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"bio\",children:\"Bio\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"bio\",className:\"form-control\",value:bio,onChange:e=>setBio(e.target.value)})]})]})]})}),/*#__PURE__*/_jsxs(Modal.Footer,{children:[/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:handleCancelEdit,children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:handleSaveProfile,children:\"Save Changes\"})]})]})]});}export default Profile;","map":{"version":3,"names":["React","useState","useEffect","Modal","Button","Alert","Row","Col","axios","Cookies","styles","loadingSpinner","jsx","_jsx","jsxs","_jsxs","Profile","userProfile","setUserProfile","displayName","setDisplayName","bio","setBio","profilePicture","setProfilePicture","tempProfilePicture","setTempProfilePicture","isEditing","setIsEditing","isLoading","setIsLoading","showSuccessMessage","setShowSuccessMessage","errors","setErrors","fetchUserProfile","userResponse","get","headers","Authorization","localStorage","getItem","userId","data","pk","response","display_name","profile_picture","error","console","non_field_errors","handleImageChange","event","file","target","files","URL","createObjectURL","handleSaveProfile","updatedProfile","formData","FormData","append","startsWith","fetch","blob","csrfToken","patch","id","setTimeout","_error$response","handleCancelEdit","revokeObjectURL","style","position","top","left","width","height","backgroundColor","display","justifyContent","alignItems","zIndex","children","src","alt","className","profileCard","variant","right","textAlign","padding","profileImage","profileDetails","profileName","profileBio","onClick","show","onHide","size","centered","Header","closeButton","Title","Body","md","htmlFor","type","accept","onChange","objectFit","value","e","Footer"],"sources":["C:/Users/marko/Desktop/VS CODE/django-rest-api/frontend/src/pages/Profile.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Modal, Button, Alert, Row, Col } from \"react-bootstrap\";\r\nimport axios from \"axios\";\r\nimport Cookies from \"js-cookie\";\r\nimport styles from \"../styles/Profile.module.css\";\r\nimport loadingSpinner from \"../assets/loading.gif\"; // Updated to use the smaller loading spinner\r\n\r\nfunction Profile() {\r\n  const [userProfile, setUserProfile] = useState(null);\r\n  const [displayName, setDisplayName] = useState(\"\");\r\n  const [bio, setBio] = useState(\"\");\r\n  const [profilePicture, setProfilePicture] = useState(\"\");\r\n  const [tempProfilePicture, setTempProfilePicture] = useState(\"\"); // Temporary profile picture for the modal\r\n  const [isEditing, setIsEditing] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [showSuccessMessage, setShowSuccessMessage] = useState(false);\r\n  const [errors, setErrors] = useState({});\r\n\r\n  useEffect(() => {\r\n    const fetchUserProfile = async () => {\r\n      try {\r\n        const userResponse = await axios.get(\"/dj-rest-auth/user/\", {\r\n          headers: {\r\n            Authorization: `Token ${localStorage.getItem('token')}`,\r\n          },\r\n        });\r\n\r\n        const userId = userResponse.data.pk;\r\n\r\n        const response = await axios.get(`https://housegram-fullstack-app-a01c6177ffd8.herokuapp.com/userprofiles/${userId}/`, {\r\n          headers: {\r\n            Authorization: `Token ${localStorage.getItem('token')}`,\r\n          },\r\n        });\r\n\r\n        const data = response.data;\r\n        setUserProfile(data);\r\n        setDisplayName(data.display_name || \"No display name yet\");\r\n        setBio(data.bio || \"No bio has been given yet\");\r\n        setProfilePicture(data.profile_picture || \"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png\");\r\n        setTempProfilePicture(data.profile_picture || \"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png\"); // Initialize tempProfilePicture with current picture\r\n        setIsLoading(false);\r\n      } catch (error) {\r\n        console.error(\"Failed to fetch user profile:\", error);\r\n        setErrors({ non_field_errors: [\"Failed to load profile data.\"] });\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchUserProfile();\r\n  }, []);\r\n\r\n  const handleImageChange = (event) => {\r\n    const file = event.target.files[0];\r\n    if (file) {\r\n      // Update temporary profile picture\r\n      setTempProfilePicture(URL.createObjectURL(file));\r\n    }\r\n  };\r\n\r\n  const handleSaveProfile = async () => {\r\n    const updatedProfile = {\r\n        display_name: displayName === \"No display name yet\" ? \"\" : displayName,\r\n        bio: bio === \"No bio has been given yet\" ? \"\" : bio,\r\n    };\r\n\r\n    setIsLoading(true);\r\n\r\n    try {\r\n        const formData = new FormData();\r\n        formData.append(\"display_name\", updatedProfile.display_name);\r\n        formData.append(\"bio\", updatedProfile.bio);\r\n\r\n        if (tempProfilePicture && tempProfilePicture.startsWith('blob:')) {\r\n            // Convert data URL to Blob and upload\r\n            const response = await fetch(tempProfilePicture);\r\n            const blob = await response.blob();\r\n            formData.append(\"profile_picture\", blob, \"profile_picture.jpg\");\r\n        } else if (tempProfilePicture !== profilePicture) {\r\n            // Handle URL-based profile picture logic if necessary\r\n        }\r\n\r\n        const csrfToken = Cookies.get('csrftoken'); // Adjust this if your token is stored differently\r\n\r\n        const response = await axios.patch(`https://housegram-fullstack-app-a01c6177ffd8.herokuapp.com/userprofiles/${userProfile.id}/`, formData, {\r\n            headers: {\r\n                \"Content-Type\": \"multipart/form-data\",\r\n                Authorization: `Token ${localStorage.getItem('token')}`,\r\n                'X-CSRFToken': csrfToken, // Include CSRF token\r\n            },\r\n        });\r\n\r\n        // Update local state after successful upload\r\n        setProfilePicture(response.data.profile_picture); // Update profile picture with the URL returned by the server\r\n        setShowSuccessMessage(true);\r\n        setTimeout(() => setShowSuccessMessage(false), 3000);\r\n        setIsEditing(false);\r\n    } catch (error) {\r\n        console.error(\"Error updating profile:\", error);\r\n        setErrors(error.response?.data || { non_field_errors: [\"Failed to update profile.\"] });\r\n    } finally {\r\n        setIsLoading(false);\r\n    }\r\n};\r\n\r\n  const handleCancelEdit = () => {\r\n    // Revoke the temporary object URL to avoid memory leaks\r\n    if (tempProfilePicture && tempProfilePicture.startsWith(\"blob:\")) {\r\n      URL.revokeObjectURL(tempProfilePicture);\r\n    }\r\n    setTempProfilePicture(profilePicture); // Reset the temporary profile picture on cancel\r\n    setIsEditing(false);\r\n  };\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div style={{\r\n        position: 'fixed',\r\n        top: 0,\r\n        left: 0,\r\n        width: '100%',\r\n        height: '100%',\r\n        backgroundColor: 'rgba(255, 255, 255, 0.8)',\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        zIndex: 9999,\r\n      }}>\r\n        <img src={loadingSpinner} alt=\"Loading...\" style={{ width: '75px', height: '75px' }} />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className={styles.profileCard}>\r\n      {showSuccessMessage && (\r\n        <Alert variant=\"success\" style={{\r\n          position: 'fixed',\r\n          top: '100px',  // Distance from the top of the page\r\n          right: '20px',  // Distance from the right side of the page\r\n          zIndex: 1000,\r\n          width: '250px',  // Smaller width\r\n          textAlign: 'center',\r\n          padding: '10px',  // Smaller padding\r\n        }}>\r\n          Profile saved successfully!\r\n        </Alert>\r\n      )}\r\n\r\n      <img\r\n        src={profilePicture}\r\n        alt=\"Profile\"\r\n        className={styles.profileImage}\r\n      />\r\n      <div className={styles.profileDetails}>\r\n        <h1 className={styles.profileName}>\r\n          {displayName}\r\n        </h1>\r\n        <p className={styles.profileBio}>\r\n          {bio}\r\n        </p>\r\n        <Button variant=\"dark\" onClick={() => setIsEditing(true)}>Edit Profile</Button>\r\n      </div>\r\n\r\n      {/* Modal for Editing Profile */}\r\n      <Modal\r\n        show={isEditing}\r\n        onHide={handleCancelEdit}\r\n        size=\"lg\" // Make the modal larger\r\n        aria-labelledby=\"contained-modal-title-vcenter\"\r\n        centered\r\n      >\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Edit Profile</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <Row>\r\n            <Col md={4}>\r\n              <div>\r\n                <label htmlFor=\"profilePicture\">Profile Picture</label>\r\n                <input\r\n                  type=\"file\"\r\n                  id=\"profilePicture\"\r\n                  accept=\"image/*\"\r\n                  onChange={handleImageChange}\r\n                  className=\"form-control\"\r\n                />\r\n                <img\r\n                  src={tempProfilePicture}\r\n                  alt=\"Profile Preview\"\r\n                  className=\"mt-3 img-fluid rounded-circle\" // Make the image preview round\r\n                  style={{ width: '150px', height: '150px', objectFit: 'cover' }}\r\n                />\r\n              </div>\r\n            </Col>\r\n            <Col md={8}>\r\n              <div>\r\n                <label htmlFor=\"displayName\">Display Name</label>\r\n                <input\r\n                  type=\"text\"\r\n                  id=\"displayName\"\r\n                  className=\"form-control\"\r\n                  value={displayName}\r\n                  onChange={(e) => setDisplayName(e.target.value)}\r\n                />\r\n              </div>\r\n              <div className=\"mt-3\">\r\n                <label htmlFor=\"bio\">Bio</label>\r\n                <textarea\r\n                  id=\"bio\"\r\n                  className=\"form-control\"\r\n                  value={bio}\r\n                  onChange={(e) => setBio(e.target.value)}\r\n                />\r\n              </div>\r\n            </Col>\r\n          </Row>\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button variant=\"secondary\" onClick={handleCancelEdit}>\r\n            Cancel\r\n          </Button>\r\n          <Button variant=\"primary\" onClick={handleSaveProfile}>\r\n            Save Changes\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Profile;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}